---
title: 计算机网络体系结构
date: 2016-12-20 21:01:28
tags: 计算机网络
categories:
	- 基础知识
---

## 一. 层次总览

### 1. TCP/IP 体系结构

- 应用层: TELNET, FTP, SMTP

- 运输层: TCP或UDP

- 网际层: IP

- 网络接口层

### 2. 五层协议体系结构(综合OSI和TCP/IP的优点)

- 应用层: 通过应用进程间的交互来完成特定网络应用

- 运输层: 两个主机进程之间的通信提供通用的数据传输服务

- 网络层: 为分组交换网上的不同主机提供通信服务。另一个任务就是要选择合适的路由，使源主机传输的分组能够找到目的主机

- 数据链路层: 两个相邻结点之间传送数据，根据链路层将网络层交付的IP数据报文封装成帧。

- 物理层: 传输比特数据

## 二. 层次分析

### 1. 数据链路层

点对点信道: 一对一的点对点通信

广播信道: 一对多的广播信道通信 

- 同一个局域网，分组怎样从一个主机传送到另一个主机(不经过路由器)，这是属于数据链路层的范围

- 数据链路层的三个基本问题: 封装成帧, 透明传输, 差错监测

- 封装成帧: 给一段数据添加首尾部分，通过帧定界符(SOH/EOT)来判定，为提高帧的传输效率，应使得帧的数据部分长度尽可能大于首尾部分的长度(通过MTU，最大传送单元来控制)

- 透明传输: 简单地说就是不管从键盘上输入什么字符都可以放在帧中进行传输，其中需要注意的是当数据和帧定界符冲突时要对帧定界符进行转义

- 差错监测: 循环冗余监测CRC

- 点对点PPP协议: 1. 简单 2. 封装成帧 3. 透明性 4. 多种网络层协议 5. 多种类型链路 6. 差错监测 7. 检测链接状态 8. 传送最大单元 9. 网络层地址协商 10. 数据压缩协商

- 发送帧的类型: 1. 单播(一对一) 2. 广播(一对全体，全1地址) 3. 多播(一对多)

- mac帧的格式: 目的地址 + 源地址 + 类型(标明交付上一层对应的协议) + 数据(IP数据报)


### 2. 网络层

网络层特点: 向上提供简单灵活的，无连接的，尽最大努力交付的数据报服务

- IP协议

	- IP地址就是给因特网上的每一个主机(或路由器)的每一个接口分配一个世界唯一的32位标识符

	- IP地址 :: = {<网络号>, <主机号>}

- 地址解析协议ARP

	- 根据IP地址获取MAC地址

	- 每一个主机都有一个ARP高速缓存表

- 网际控制报文协议ICMP

	- ICMP差错报告报文: 1. 终点不可达(无法到达目的主机) 2. 源点抑制(目的主机由于拥塞丢失数据报) 3. 时间超过(主机收到部分数据报，但是其他的数据报接收超过限定时间，发送时间超过报文) 4. 参数问题(报文中有参数不正确) 5. 改变路由(重定向)


### 3. 运输层

运输层: 向它上面的应用层提供通信服务， 真正进行通信的实体是在主机中的进程(一个主机的进程和另一个主机的一个进程在交换数据)

- UDP在传送数据之前不需要建立连接，不需要提供可靠交付

- TCP提供面向连接的服务·

- UDP协议 

	- UDP是无连接的，使用尽最大努力交付，面向报文，没有拥塞控制

	- UDP的首部格式: 源端口 + 目的端口 + 长度 + 校验和

	- 不使用拥塞控制的UDP有可能会引起网络产生严重的拥塞问题

- TCP协议

	- TCP是面向连接的运输层协议，每一条TCP链接只能